<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>
      Weld: News
    </title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Latest news about Weld." name="description">
    <link href="/images/weld_icon_32x.ico" rel="shortcut icon" type="image/x-icon">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//static.jboss.org/css/tabzilla.css" media="screen" rel="stylesheet" type="text/css">
    <link href="http://weld.cdi-spec.org/stylesheets/styles.css" rel="stylesheet" type="text/css">
    <script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js" type="text/javascript"></script>
    <script src="//static.jboss.org/js/_jbossorg-tabzilla.js" type="text/javascript"></script>
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
    <link href="http://weld.cdi-spec.org/news.atom" rel="alternate" type="application/atom+xml">
    <link href="//cdn.jsdelivr.net/highlight.js/8.9.1/styles/default.min.css" rel="stylesheet">
    <script src="//cdn.jsdelivr.net/highlight.js/8.9.1/highlight.min.js" type="text/javascript"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-2 col-sm-3">
          <div class="sidebar-nav">
            <div class="navbar navbar-default" role="navigation">
              <div class="navbar-header">
                <button ="button" class="navbar-toggle" data-target=".sidebar-navbar-collapse" data-toggle="collapse">
                  <span class="sr-only">
                    Toggle navigation
                  </span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
                <a ="#" class="visible-xs navbar-brand">
                  <img alt="Weld Logo" src="/images/weld_logo_100x.png">
                </a>
              </div>
              <div class="collapse navbar-collapse sidebar-navbar-collapse">
                <ul class="nav navbar-nav">
                  <li>
                    <a href="/">
                      <i class="fa fa-home"></i>
                      &nbsp;Home
                    </a>
                  </li>
                  <li>
                    <a href="/download">
                      <i class="fa fa-download"></i>
                      &nbsp;Download
                    </a>
                  </li>
                  <li>
                    <a href="/news">
                      <i class="fa fa-newspaper-o"></i>
                      &nbsp;News
                    </a>
                  </li>
                  <li>
                    <a href="https://issues.jboss.org/projects/WELD?selectedItem=com.atlassian.jira.jira-projects-plugin:release-page" target="_blank">
                      <i class="fa fa-road"></i>
                      &nbsp;Road Map
                    </a>
                  </li>
                  <li>
                    <a href="/documentation">
                      <i class="fa fa-book"></i>
                      &nbsp;Docs &amp; FAQ
                    </a>
                  </li>
                  <li>
                    <a href="/news/tags/tips">
                      <i class="fa fa-lightbulb-o"></i>
                      &nbsp;Tips and Tricks
                    </a>
                  </li>
                  <li>
                    <a href="/community">
                      <i class="fa fa-group"></i>
                      &nbsp;Community
                    </a>
                  </li>
                  <li>
                    <a href="http://github.com/weld" target="_blank">
                      <i class="fa fa-github-alt"></i>
                      &nbsp;Source Code
                    </a>
                  </li>
                  <li>
                    <a href="https://issues.jboss.org/browse/WELD#selectedTab=com.atlassian.jira.plugin.system.project%3Asummary-panel" target="_blank">
                      <i class="fa fa-tasks"></i>
                      &nbsp;Bug Tracker
                    </a>
                  </li>
                  <li>
                    <a href="https://twitter.com/jbossweld" target="_blank">
                      <i class="fa fa-twitter"></i>
                      &nbsp;Follow @jbossweld
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-10 col-sm-9">
          <div class="row hidden-xs">
            <div class="dropup">
              <div id="ajbossproject">
                A JBoss Project
              </div>
              <a class="tabnav-closed" href="#" id="tab">Red Hat</a>
              <script>
                window.addEventListener('load', function() {renderTabzilla("Weld", "weld", false )}, false);
              </script>
            </div>
          </div>
          <div class="row">
            <div class="col-md-4">
              <a href="/">
                <img alt="Weld Logo" class="hidden-xs weld-home-logo" src="/images/weld_logo_450x.png">
              </a>
            </div>
            <div class="col-md-8">
              <img alt="CDI tagcloud" class="hidden-xs hidden-sm cdi-background" src="/images/CDIbackground.png">
            </div>
          </div>
          <div class="row content-wrapper">
            <div class="col-md-10">
              <h1>
                News
                <a href="http://weld.cdi-spec.org/news.atom">
                  <i class="fa fa-rss"></i>
                </a>
              </h1>
              <div class="post">
                <h2>
                  <a href="/news/2015/09/18/weld-230Final/">Weld 2.3.0.Final released!</a>
                </h2>
                <div class="news-date news-boxed">
                  2015-9-18
                  &nbsp;
                  <span class="tags">
                    <i class="fa fa-tags"></i>
                    <a href="/news/tags/release">release</a>
                  </span>
                  &nbsp;
                  <i class="fa fa-pencil"></i>
                  Martin Kouba
                </div>
                <p></p>
                <div class="content">
                  <div class="paragraph">
                  <p>Weld 2.3.0.Final has been just released! From now on, 2.3 is the current stable version of Weld and 2.2 is not actively developed anymore - i.e. no new features are added, only bugs will be fixed. Weld 2.3 will remain a <strong>CDI 1.2</strong> implementation. We are incrementing the minor version due to several new features added. Weld 2.3 is also included in <a href="http://wildfly.org/">WildFly 10</a> application server.</p>
                  </div>
                  <div class="paragraph">
                  <p>Notable features and changes:</p>
                  </div>
                  <div class="ulist">
                  <ul>
                  <li>
                  <p>Java 6 support was dropped - Java 7 is the minimal requirement for building and running Weld 2.3</p>
                  </li>
                  <li>
                  <p>Weld 2.3 comes with a special mode for application development, the <a href="http://docs.jboss.org/weld/reference/2.3.0.Final/en-US/html/devmode.html#probe">Probe development tool</a> allows to inspect application CDI components at runtime</p>
                  </li>
                  <li>
                  <p>Weld SE Bootstrap API was enhanced in many ways - new features are mostly backported from <a href="http://weld.cdi-spec.org/news/2015/08/05/weld-300Alpha12/#_weld_se_bootstrap_api">Weld 3 development branch</a></p>
                  </li>
                  <li>
                  <p>Weld Servlet now supports Undertow web server</p>
                  </li>
                  <li>
                  <p>Revised delivery of <code>@Initialized</code>/<code>@Destroyed</code> events for <code>@ApplicationScoped</code> in an EAR (see also <a href="https://issues.jboss.org/browse/WELD-1821">WELD-1821</a>)</p>
                  </li>
                  </ul>
                  </div>
                  <div class="paragraph">
                  <p>&#91; <a href="http://docs.jboss.org/cdi/api/1.2/">CDI 1.2 API</a> &#93;
                  &#91; <a href="http://weld.cdi-spec.org/download/">Download</a> &#93;
                  &#91; <a href="http://docs.jboss.org/weld/reference/2.3.0.Final/en-US/html/">Documentation</a> &#93;
                  &#91; <a href="https://issues.jboss.org/projects/WELD/versions/12328057">Release notes</a> &#93;</p>
                  </div>
                  <div class="sect1">
                  <h2 id="_weld_2_2_16_sp1">Weld 2.2.16.SP1</h2>
                  <div class="sectionbody">
                  <div class="paragraph">
                  <p>In addition, Weld 2.2.16.SP1 has been also released. It&#8217;s a bugfix release for 2.2 branch.</p>
                  </div>
                  <div class="paragraph">
                  <p>&#91; <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12310891&amp;version=12327594">Weld 2.2.16.Final Release notes</a> &#93;
                  &#91; <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12310891&amp;version=12328216">Weld 2.2.16.SP1 Release notes</a> &#93;</p>
                  </div>
                  </div>
                  </div>
                </div>
                <hr>
              </div>
              <div class="post">
                <h2>
                  <a href="/news/2015/09/15/jdk-8u60-problem/">JDK 8u60 reveals a problem in Weld</a>
                </h2>
                <div class="news-date news-boxed">
                  2015-9-15
                  &nbsp;
                  <span class="tags">
                    <i class="fa fa-tags"></i>
                    <a href="/news/tags/bug">bug</a>
                    ,
                    <a href="/news/tags/jdk">jdk</a>
                  </span>
                  &nbsp;
                  <i class="fa fa-pencil"></i>
                  Martin Kouba
                </div>
                <p></p>
                <div class="content">
                  <div class="paragraph">
                  <p>Recently released <strong>JDK 8u60</strong> has revealed a problem in Weld where not all synthetic members were ignored correctly.
                  This has been fixed in <strong>2.2.16.Final</strong>, <strong>2.3.0.CR2</strong> and <strong>3.0.0.Alpha14</strong> (not released yet).
                  However, if not using a lambda referencing an event/disposed parameter inside an observer/disposer method, your application is most probably not affected.
                  See also <a href="https://issues.jboss.org/browse/WELD-2019">the related issue - WELD-2019</a>.</p>
                  </div>
                  <div class="sect1">
                  <h2 id="_use_case">Use case</h2>
                  <div class="sectionbody">
                  <div class="paragraph">
                  <p>If there is a lambda referencing an event/disposed parameter inside an observer/disposer method, the compiler creates a synthetic method with the event parameter as one of the method parameters. Since 8u60 the parameter annotations are preserved even for the synthetic method.
                  And so Weld incorrectly recognizes these synthetic methods as observer/disposer methods.</p>
                  </div>
                  </div>
                  </div>
                  <div class="sect1">
                  <h2 id="_symptoms">Symptoms</h2>
                  <div class="sectionbody">
                  <div class="paragraph">
                  <p>You may get <code>WELD-000409: Observer method for container lifecycle event can only&#8230;&#8203;</code> if using such a lambda in an extension or even <code>WELD-001408 Unsatisfied dependencies for type&#8230;&#8203;</code> if using such a lambda in a regular observer and the lambda is using more references (i.e. not only event/disposed parameter) - these are also the method parameters of the synthetic method, and in CDI these additional parameters are injection points.</p>
                  </div>
                  </div>
                  </div>
                  <div class="sect1">
                  <h2 id="_example">Example</h2>
                  <div class="sectionbody">
                  <div class="listingblock">
                  <div class="content">
                  <pre class="highlightjs highlight"><code class="language-java" data-lang="java">class Foo {&#x000A;      void observe(@Observes @Juicy String payload) {&#x000A;        Arrays.asList("foo").stream().filter((s) -&gt; s.equals(payload));&#x000A;      }&#x000A;    }</code></pre>
                  </div>
                  </div>
                  <div class="paragraph">
                  <p>A synthetic method is created for the lambda and the event parameter is passed as a method parameter. The annotations are preserved.
                  As a result Weld creates two observer methods having the same event parameter: <code>@Observes @Juicy String payload</code>.</p>
                  </div>
                  </div>
                  </div>
                  <div class="sect1">
                  <h2 id="_workaround">Workaround</h2>
                  <div class="sectionbody">
                  <div class="paragraph">
                  <p>Instead of the event parameter reference use an additional local variable with the same value assigned:</p>
                  </div>
                  <div class="listingblock">
                  <div class="content">
                  <pre class="highlightjs highlight"><code class="language-java" data-lang="java">public void observe(@Observes @Juicy String payload) {&#x000A;       String p = payload;&#x000A;       Arrays.asList("foo").stream().filter((s) -&gt; s.equals(p));&#x000A;    }</code></pre>
                  </div>
                  </div>
                  </div>
                  </div>
                </div>
                <hr>
              </div>
              <div class="post">
                <h2>
                  <a href="/news/2015/09/08/weld-team-changes/">Weld team changes</a>
                </h2>
                <div class="news-date news-boxed">
                  2015-9-8
                  &nbsp;
                  <span class="tags">
                    <i class="fa fa-tags"></i>
                    <a href="/news/tags/team">team</a>
                  </span>
                  &nbsp;
                  <i class="fa fa-pencil"></i>
                  Jozef Hartinger
                </div>
                <p></p>
                <div class="content">
                  <div class="paragraph">
                  <p>I am pleased to announce a couple of changes coming to the Weld team:</p>
                  </div>
                  <div class="paragraph">
                  <p>First of all, <a href="https://developer.jboss.org/people/mkouba">Martin</a> will be taking over leadership of the project.
                  Martin has proven himself to be an excellent engineer over all the years and I am happy that I can leave the project in his hands.
                  His primary task is going to be leading the project towards the Weld 3 milestone.</p>
                  </div>
                  <div class="paragraph">
                  <p>Secondly, I will be moving to work temporarily on a different project.
                  I truly enjoyed working on Weld and with the CDI community.
                  Now after almost 4 years on the project I was given an exciting opportunity which I decided to pursuit.</p>
                  </div>
                  <div class="paragraph">
                  <p>Last but not least, Matěj Novotný is joining the team as a quality engineer.
                  He’s going to work on expanding our testsuites and making sure Weld releases do not break anything :-)</p>
                  </div>
                </div>
                <hr>
              </div>
              <div class="post">
                <h2>
                  <a href="/news/2015/08/05/weld-300Alpha12/">Weld 3.0.0.Alpha12 - CDI 2.0 EDR1 Reference Implementation!</a>
                </h2>
                <div class="news-date news-boxed">
                  2015-8-5
                  &nbsp;
                  <span class="tags">
                    <i class="fa fa-tags"></i>
                    <a href="/news/tags/release">release</a>
                    ,
                    <a href="/news/tags/cdi2">cdi2</a>
                  </span>
                  &nbsp;
                  <i class="fa fa-pencil"></i>
                  Martin Kouba
                </div>
                <p></p>
                <div class="content">
                  <div class="paragraph">
                  <p>Weld 3.0.0.Alpha12 has been released. Compared to previous alpha releases this is an important milestone - it&#8217;s a reference implementation of <a href="http://docs.jboss.org/cdi/spec/2.0.EDR1/cdi-spec.html">CDI 2.0 Early Draft</a> (EDR1). You can read more about CDI 2.0 EDR1 on the official blog: <a href="http://www.cdi-spec.org/news/2015/07/03/CDI-2_0-EDR1-released/">CDI 2.0 Early Draft Review 1 released</a>.</p>
                  </div>
                  <div class="sect1">
                  <h2 id="_bootstrapping_a_cdi_container_in_java_se">Bootstrapping a CDI container in Java SE</h2>
                  <div class="sectionbody">
                  <div class="paragraph">
                  <p>Starting a CDI container is now really that easy:</p>
                  </div>
                  <div class="listingblock">
                  <div class="content">
                  <pre class="highlightjs highlight"><code class="language-java" data-lang="java">public static void main(String... args) {&#x000A;        try(CDI&lt;Object&gt; cdi = CDI.getCDIProvider().initialize()) {&#x000A;            ComputingService service = cdi.select(ComputingService.class).get();&#x000A;            service.compute();&#x000A;        }&#x000A;    }</code></pre>
                  </div>
                  </div>
                  <div class="paragraph">
                  <p><code>javax.enterprise.inject.spi.CDI</code> now implements <code>AutoCloseable</code> and can therefore be used in a <code>try-with-resources</code> block.</p>
                  </div>
                  <div class="paragraph">
                  <p>Note that the specification of the bean discovery process in Java SE is not finished yet. Therefore, bean archives which don&#8217;t contain a beans.xml file are not supported. The main reason is that we don&#8217;t want to implement a feature which is being discussed and will likely undergo some important changes. Nevertheless, the feature will be implemented in one of the next alpha versions.</p>
                  </div>
                  <div class="sect2">
                  <h3 id="_weld_se_bootstrap_api">Weld SE bootstrap API</h3>
                  <div class="paragraph">
                  <p>How does it compare to Weld SE bootstrap API? Weld has provided support for the Java SE environment for a long time. Recently, the <code>org.jboss.weld.environment.se.Weld</code> class was turned into a powerful builder which allows to configure the Weld container before it is initialized.</p>
                  </div>
                  <div class="paragraph">
                  <p>Typical usage of the Weld SE API looks like this:</p>
                  </div>
                  <div class="listingblock">
                  <div class="content">
                  <pre class="highlightjs highlight"><code class="language-java" data-lang="java">try (WeldContainer container = new Weld().initialize()) {&#x000A;        ComputingService service = container.select(ComputingService.class).get();&#x000A;        service.compute();&#x000A;    }</code></pre>
                  </div>
                  </div>
                  <div class="paragraph">
                  <p>This looks very similar to CDI SE, right? However, there are several advanced feratures available:</p>
                  </div>
                  <div class="ulist">
                  <ul>
                  <li>
                  <p>automatic scanning can be disabled, classes or packages can be selected explicitly</p>
                  <div class="ulist">
                  <ul>
                  <li>
                  <p><code>WeldContainer container = new Weld().disableDiscovery().beanClasses(Foo.class, Bar.class).alternatives(Bar.class).interceptors(FooInterceptor.class).initialize();</code></p>
                  </li>
                  </ul>
                  </div>
                  </li>
                  <li>
                  <p>WeldContainer allows to fire events easily</p>
                  <div class="ulist">
                  <ul>
                  <li>
                  <p><code>container.event().select(Bar.class).fire(new Bar());</code></p>
                  </li>
                  </ul>
                  </div>
                  </li>
                  <li>
                  <p>Weld-specific <a href="http://docs.jboss.org/weld/reference/latest-master/en-US/html/configure.html#_weld_configuration">configuration options</a> can be specified using the builder</p>
                  </li>
                  <li>
                  <p>it is possible to start multiple independent Weld instances (specification does not require this)</p>
                  </li>
                  </ul>
                  </div>
                  <div class="paragraph">
                  <p>See also <a href="http://weld.cdi-spec.org/news/2015/04/21/weld-300Alpha8/">Weld 3.0.0.Alpha8 announcement</a> for more information.</p>
                  </div>
                  </div>
                  </div>
                  </div>
                  <div class="sect1">
                  <h2 id="_asynchronous_events">Asynchronous Events</h2>
                  <div class="sectionbody">
                  <div class="paragraph">
                  <p>An experimental support of asynchronous events is implemented in Weld since 3.0.0.Alpha3. However, in this release the API was aligned with CDI 2.0 EDR1:</p>
                  </div>
                  <div class="listingblock">
                  <div class="content">
                  <pre class="highlightjs highlight"><code class="language-java" data-lang="java">class OrderProcessor {&#x000A;    &#x000A;        @Inject Event&lt;Order&gt; orderEvent;&#x000A;    &#x000A;        public void process(Order order) {&#x000A;            orderEvent.fireAsync(order).thenAccept((o)-&gt;System.out.println("Asynchronous processing finished: " + o.getId()));&#x000A;        }&#x000A;    &#x000A;        public void processingOrder(@Observes Order event) {&#x000A;            // This observer is notified synchronously, before the fireAsync() method returns&#x000A;        }&#x000A;    &#x000A;        public void asyncProcessingOrder(@ObservesAsync Order event) {&#x000A;            // This observer is notified asynchronously, in a different thread&#x000A;        }&#x000A;    }</code></pre>
                  </div>
                  </div>
                  <div class="paragraph">
                  <p>There are few important things to notice:</p>
                  </div>
                  <div class="ulist">
                  <ul>
                  <li>
                  <p>the event was triggered with <code>fireAsync()</code></p>
                  </li>
                  <li>
                  <p>the asynchronous observer is defined by <code>@ObservesAsync</code></p>
                  <div class="ulist">
                  <ul>
                  <li>
                  <p>this is required because of backward compatibilty with previous versions of CDI, see also <a href="http://www.cdi-spec.org/news/2015/07/03/CDI-2_0-EDR1-released/#_why_this_double_activation_is_needed">Why this double activation is needed?</a></p>
                  </li>
                  </ul>
                  </div>
                  </li>
                  <li>
                  <p>synchronous observers defined by <code>@Observes</code> are also notified!</p>
                  </li>
                  </ul>
                  </div>
                  <div class="paragraph">
                  <p>To sum it up:</p>
                  </div>
                  <table class="tableblock frame-all grid-all spread">
                  <colgroup>
                  <col style="width: 33%;">
                  <col style="width: 33%;">
                  <col style="width: 33%;">
                  </colgroup>
                  <thead>
                  <tr>
                  <th class="tableblock halign-left valign-top">Event method</th>
                  <th class="tableblock halign-left valign-top"><code>@Observes</code> notified</th>
                  <th class="tableblock halign-left valign-top"><code>@ObservesAsync</code> notified</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr>
                  <td class="tableblock halign-left valign-top"><p class="tableblock"><code>fire()</code></p></td>
                  <td class="tableblock halign-left valign-top"><p class="tableblock">yes, in the same thread</p></td>
                  <td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
                  </tr>
                  <tr>
                  <td class="tableblock halign-left valign-top"><p class="tableblock"><code>fireAsync()</code></p></td>
                  <td class="tableblock halign-left valign-top"><p class="tableblock">yes, in the same thread</p></td>
                  <td class="tableblock halign-left valign-top"><p class="tableblock">yes, in a different thread</p></td>
                  </tr>
                  </tbody>
                  </table>
                  <div class="sect2">
                  <h3 id="_observers_spi_changes">Observers SPI Changes</h3>
                  <div class="paragraph">
                  <p><code>javax.enterprise.inject.spi.ObserverMethod</code> now extends <code>javax.enterprise.inject.spi.Prioritized</code> and overrides the <code>ObserverMethod.getPriority()</code> method which is used to determine the notification order in which the event observer methods are invoked. <code>Prioritized</code> interface is currently only used for observers. However, the Weld team is working on a prototype where <code>Prioritized</code> can be used to globally select/enable custom alternative beans, interceptors and decorators, see also <a href="https://issues.jboss.org/browse/WELD-2000">WELD-2000</a>.</p>
                  </div>
                  <div class="paragraph">
                  <p>Furthermore, <code>ObserverMethod.isAsync()</code> method was added to determine whether an observer method is asynchronous or not.</p>
                  </div>
                  </div>
                  </div>
                  </div>
                  <div class="sect1">
                  <h2 id="_wildfly_patch">WildFly Patch</h2>
                  <div class="sectionbody">
                  <div class="paragraph">
                  <p>As usual, a <a href="http://download.jboss.org/weld/3.0.0.Alpha12/wildfly-10.0.0.Alpha6-weld-3.0.0.Alpha12-patch.zip">patch for WildFly</a> is available. This patch not only upgrades Weld within an existing WildFly instance but also upgrades CDI API to 2.0 EDR1. This time the target platform is <strong>WildFly 10.0.0.Alpha6</strong>.  If you’re not familiar with patching WildFly, check <a href="http://blog.eisele.net/2015/02/playing-with-weld-probe-see-all-of-your.html">Markus&#8217;s tutorial</a>.</p>
                  </div>
                  <div class="paragraph">
                  <p>&#91; <a href="http://docs.jboss.org/weld/javadoc/3.0/weld-api/org/jboss/weld/experimental/package-frame.html">Experimental API documentation</a> &#93;
                  &#91; <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12310891&amp;version=12327471">Release notes</a> &#93;
                  &#91; <a href="http://download.jboss.org/weld/3.0.0.Alpha12/weld-3.0.0.Alpha12.zip">Distribution</a> &#93;
                  &#91; <a href="http://download.jboss.org/weld/3.0.0.Alpha12/wildfly-10.0.0.Alpha6-weld-3.0.0.Alpha12-patch.zip">Patch for Wildfly 10 Alpha</a>
                  &#93;</p>
                  </div>
                  </div>
                  </div>
                </div>
                <hr>
              </div>
              <div class="post">
                <h2>
                  <a href="/news/2015/04/21/weld-300Alpha8/">Weld 3.0.0.Alpha8</a>
                </h2>
                <div class="news-date news-boxed">
                  2015-4-21
                  &nbsp;
                  <span class="tags">
                    <i class="fa fa-tags"></i>
                    <a href="/news/tags/release">release</a>
                    ,
                    <a href="/news/tags/cdi2">cdi2</a>
                  </span>
                  &nbsp;
                  <i class="fa fa-pencil"></i>
                  Jozef Hartinger
                </div>
                <p></p>
                <div class="content">
                  <div class="paragraph">
                  <p>Weld 3.0.0.Alpha8 has been released.
                  The main change is the enhanced API for using Weld in Java SE environment. In addition, this release comes with several weld-probe improvements.</p>
                  </div>
                  <div class="sect1">
                  <h2 id="_enhanced_api_for_weld_se">Enhanced API for Weld SE</h2>
                  <div class="sectionbody">
                  <div class="paragraph">
                  <p>Weld has provided <a href="http://docs.jboss.org/weld/reference/latest-2.2/en-US/html/environments.html#_java_se">support for the Java SE environment</a> for a long time with the weld-se module.
                  The API provides an easy way for an application to initialize Weld and use it in a standalone mode.
                  On initialization Weld SE scans the classpath for bean archives with the <code>beans.xml</code> file, similarly to how it&#8217;s done in the Java EE environment.</p>
                  </div>
                  <div class="paragraph">
                  <p>In this release we are extending the API further.
                  This is partially inspired by the current discussion in the CDI expert group where a standardized CDI API for Java SE is being proposed as part of <a href="https://issues.jboss.org/browse/CDI-26">CDI-26</a>.</p>
                  </div>
                  <div class="paragraph">
                  <p>The following code snippet shows the new API in action:</p>
                  </div>
                  <div class="listingblock">
                  <div class="content">
                  <pre class="highlightjs highlight"><code class="language-java" data-lang="java">Weld builder = new Weld()&#x000A;        .disableDiscovery()&#x000A;        .packages(Main.class, Utils.class)&#x000A;        .interceptors(TransactionalInterceptor.class)&#x000A;        .property("org.jboss.weld.construction.relaxed", true);&#x000A;    &#x000A;    try (WeldContainer weld = builder.initialize()) {&#x000A;        MyBean bean = weld.select(MyBean.class).get();&#x000A;        System.out.println(bean.computeResult());&#x000A;    }</code></pre>
                  </div>
                  </div>
                  <div class="paragraph">
                  <p>There are several new things to notice:</p>
                  </div>
                  <div class="ulist">
                  <ul>
                  <li>
                  <p>the <code>Weld</code> class is used as a builder to configure Weld before it is initialized</p>
                  </li>
                  <li>
                  <p>automatic scanning can be disabled</p>
                  </li>
                  <li>
                  <p>instead of scanning, classes or packages can be selected explicitly. All classes in those packages will be managed by Weld</p>
                  </li>
                  <li>
                  <p>interceptors, decorators, extensions and <a href="http://docs.jboss.org/weld/reference/3.0.0.Alpha8/en-US/html/configure.html#_weld_configuration">Weld-specific configuration options</a> can be specified using the builder</p>
                  </li>
                  <li>
                  <p><code>WeldContainer</code> now implements <code>AutoCloseable</code> and can therefore be used in a <code>try-with-resources</code> block. At any time that execution gets outside of the code block, the Weld instance is shut down and all managed instances are safely destroyed.</p>
                  </li>
                  </ul>
                  </div>
                  <div class="paragraph">
                  <p>It is also possible to start multiple independent Weld instances:</p>
                  </div>
                  <div class="listingblock">
                  <div class="content">
                  <pre class="highlightjs highlight"><code class="language-java" data-lang="java">new Weld().disableDiscovery().containerId("one").beanClasses(MyBean.class).initialize();&#x000A;    new Weld().disableDiscovery().containerId("two").beanClasses(OtherBean.class).initialize();&#x000A;    &#x000A;    MyBean bean = WeldContainer.instance("one").select(MyBean.class).get();&#x000A;    System.out.println(bean.computeResult());&#x000A;    &#x000A;    WeldContainer.instance("one").shutdown();&#x000A;    WeldContainer.instance("two").shutdown();</code></pre>
                  </div>
                  </div>
                  <div class="paragraph">
                  <p>Here, two independent <code>WeldContainer</code> instances are initialized.
                  Each of them is given a unique ID.
                  The ID can subsequently be used to obtain a <code>WeldContainer</code> reference in a different place of the code.
                  One possible use-case this enables is for a library or framework (e.g. a testing framework) to use an embedded instance of Weld internally for its own needs (dependency injection, events, extensibility).
                  This instance would not interfere with the Weld instance used by the application.</p>
                  </div>
                  <div class="paragraph">
                  <p>Obviously, automatic classpath scanning can still be used as before:</p>
                  </div>
                  <div class="listingblock">
                  <div class="content">
                  <pre class="highlightjs highlight"><code class="language-java" data-lang="java">try (WeldContainer weld = new Weld().enableDiscovery().initialize()) {&#x000A;        MyBean bean = weld.select(MyBean.class).get();&#x000A;        System.out.println(bean.computeResult());&#x000A;    }</code></pre>
                  </div>
                  </div>
                  <div class="paragraph">
                  <p><strong>Update:</strong></p>
                  </div>
                  <div class="paragraph">
                  <p>To play with the new API use the following dependency in you Maven project:</p>
                  </div>
                  <div class="listingblock">
                  <div class="content">
                  <pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;&#x000A;        &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;&#x000A;        &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;&#x000A;        &lt;version&gt;3.0.0.Alpha8&lt;/version&gt;&#x000A;    &lt;/dependency&gt;</code></pre>
                  </div>
                  </div>
                  <div class="paragraph">
                  <p>Aforementioned classes are from the <code>org.jboss.weld.environment.se</code> package.</p>
                  </div>
                  </div>
                  </div>
                  <div class="sect1">
                  <h2 id="_weld_probe_enhancements">Weld Probe Enhancements</h2>
                  <div class="sectionbody">
                  <div class="paragraph">
                  <p>Since the last Alpha releases there were several enhancements to Weld Probe.
                  If you are not familiar with Weld Probe, check this <a href="http://weld.cdi-spec.org/news/2015/02/05/weld-300Alpha4/">introductory blog post first</a>.</p>
                  </div>
                  <div class="paragraph">
                  <p>A new feature of Probe is that, when the development mode is enabled, it now embeds a tiny information bar directly into the application&#8217;s HTML output.
                  That makes it easy to navigate to Probe directly from the application anytime.
                  Furthermore, if invocation tracking is enabled, the information bar helps navigate directly to the invocation tree related to the request that rendered the output.</p>
                  </div>
                  <div class="imageblock">
                  <div class="content">
                  <img src="/images/blog/probe-bar.png" alt="Weld Probe information bar embedded in application's HTML output">
                  </div>
                  </div>
                  <div class="paragraph">
                  <p><br></p>
                  </div>
                  <div class="paragraph">
                  <p>Additionally, the following Probe improvements were implemented:</p>
                  </div>
                  <div class="ulist">
                  <ul>
                  <li>
                  <p>tracked invocations are now grouped into a invocation tree instead of being tracked in isolation</p>
                  </li>
                  <li>
                  <p>a special type of edges is now used in the overview graph to represent a "declared by" relation (when a bean declares a producer method or field)</p>
                  </li>
                  <li>
                  <p>Instance&lt;?&gt; injection points are now treated specially - a resolved bean is show as injection point&#8217;s dependency</p>
                  </li>
                  </ul>
                  </div>
                  <div class="paragraph">
                  <p>See this <a href="http://probe-weld.itos.redhat.com/weld-numberguess">live demo</a> and try Weld Probe yourself.</p>
                  </div>
                  <div class="paragraph">
                  <p>&#91; <a href="http://docs.jboss.org/weld/javadoc/3.0/weld-api/org/jboss/weld/experimental/package-frame.html">Experimental API documentation</a> &#93;
                  &#91; <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12310891&amp;version=12326881">Release notes</a> &#93;
                  &#91; <a href="https://sourceforge.net/projects/jboss/files/Weld/3.0.0.Alpha8">Distribution</a> &#93;
                  &#91; Patch for Wildfly
                  (<a href="http://sourceforge.net/projects/jboss/files/Weld/3.0.0.Alpha8/wildfly-8.2.0.Final-weld-3.0.0.Alpha8-patch.zip/download">8.2</a>,
                  <a href="http://sourceforge.net/projects/jboss/files/Weld/3.0.0.Alpha8/wildfly-9.0.0.Beta2-weld-3.0.0.Alpha8-patch.zip/download">9 Beta</a>)
                  &#93;</p>
                  </div>
                  </div>
                  </div>
                </div>
                <hr>
              </div>
              <div class="pagination-links"><a href="/news/page/5.html" class="previous-link">Previous</a> <a href="/news/" class="page-link">1</a> <a href="/news/page/2.html" class="page-link">2</a> <span class="skip">...</span><a href="/news/page/5.html" class="page-link">5</a> <span class="current-page">6</span> <a href="/news/page/7.html" class="page-link">7</a> <a href="/news/page/8.html" class="page-link">8</a> <a href="/news/page/9.html" class="page-link">9</a> <a href="/news/page/7.html" class="next-link">Next</a> </div>
              <hr>
              <div>
                <a href="http://weld.cdi-spec.org/news.atom">
                  <i class="fa fa-rss"></i>
                  Subscribe to Weld news
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer>
      <div class="row">
        <div class="container" id="companyfooter">
          <div class="redhatlogo" style="text-align:center;">
            <div class="logospacer" style="height:10px;"></div>
            <a href="http://www.redhat.com/">
              <img src="http://static.jboss.org/theme/images/common/redhat_logo.png">
            </a>
          </div>
        </div>
      </div>
    </footer>
  </body>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" type="text/javascript"></script>
  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount','UA-45187401-1']);
  _gaq.push(['_trackPageview']);
  (function() {
   var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>
  <script>
    $(document).ready(function() {
      $('#toggle_menu').click(function(){
        $("#mobile_menu").toggle();
      });
    });
  </script>
</html>
