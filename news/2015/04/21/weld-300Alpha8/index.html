<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>
      Weld: Weld 3.0.0.Alpha8
    </title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta name="description">
    <link href="/images/weld_icon_32x.ico" rel="shortcut icon" type="image/x-icon">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//static.jboss.org/css/tabzilla.css" media="screen" rel="stylesheet" type="text/css">
    <link href="https://weld.cdi-spec.org/stylesheets/styles.css" rel="stylesheet" type="text/css">
    <script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js" type="text/javascript"></script>
    <script src="//static.jboss.org/js/_jbossorg-tabzilla.js" type="text/javascript"></script>
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
    <link href="https://weld.cdi-spec.org/news.atom" rel="alternate" type="application/atom+xml">
    <link href="//cdn.jsdelivr.net/highlight.js/8.9.1/styles/hybrid.min.css" rel="stylesheet">
    <script src="//cdn.jsdelivr.net/highlight.js/8.9.1/highlight.min.js" type="text/javascript"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-2 col-sm-3">
          <div class="sidebar-nav">
            <div class="navbar navbar-default" role="navigation">
              <div class="navbar-header">
                <button ="button" class="navbar-toggle" data-target=".sidebar-navbar-collapse" data-toggle="collapse">
                  <span class="sr-only">
                    Toggle navigation
                  </span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
                <a ="#" class="visible-xs navbar-brand">
                  <img alt="Weld Logo" src="/images/weld_logo_100x.png">
                </a>
              </div>
              <div class="collapse navbar-collapse sidebar-navbar-collapse">
                <ul class="nav navbar-nav">
                  <li>
                    <a href="/">
                      <i class="fa fa-home"></i>
                      &nbsp;Home
                    </a>
                  </li>
                  <li>
                    <a href="/download">
                      <i class="fa fa-download"></i>
                      &nbsp;Download
                    </a>
                  </li>
                  <li>
                    <a href="/news">
                      <i class="fa fa-newspaper-o"></i>
                      &nbsp;News
                    </a>
                  </li>
                  <li>
                    <a href="https://issues.jboss.org/projects/WELD?selectedItem=com.atlassian.jira.jira-projects-plugin:release-page" target="_blank">
                      <i class="fa fa-road"></i>
                      &nbsp;Road Map
                    </a>
                  </li>
                  <li>
                    <a href="/documentation">
                      <i class="fa fa-book"></i>
                      &nbsp;Docs &amp; FAQ
                    </a>
                  </li>
                  <li>
                    <a href="/news/tags/tips">
                      <i class="fa fa-lightbulb-o"></i>
                      &nbsp;Tips and Tricks
                    </a>
                  </li>
                  <li>
                    <a href="/community">
                      <i class="fa fa-group"></i>
                      &nbsp;Community
                    </a>
                  </li>
                  <li>
                    <a href="http://github.com/weld" target="_blank">
                      <i class="fa fa-github-alt"></i>
                      &nbsp;Source Code
                    </a>
                  </li>
                  <li>
                    <a href="https://issues.jboss.org/browse/WELD#selectedTab=com.atlassian.jira.plugin.system.project%3Asummary-panel" target="_blank">
                      <i class="fa fa-tasks"></i>
                      &nbsp;Bug Tracker
                    </a>
                  </li>
                  <li>
                    <a href="https://twitter.com/jbossweld" target="_blank">
                      <i class="fa fa-twitter"></i>
                      &nbsp;Follow @jbossweld
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-10 col-sm-9">
          <div class="row hidden-xs">
            <div class="dropup">
              <div id="ajbossproject">
                A JBoss Project
              </div>
              <a class="tabnav-closed" href="#" id="tab">Red Hat</a>
              <script>
                window.addEventListener('load', function() {renderTabzilla("Weld", "weld", false )}, false);
              </script>
            </div>
          </div>
          <div class="row">
            <div class="col-md-4">
              <a href="/">
                <img alt="Weld Logo" class="hidden-xs weld-home-logo" src="/images/weld_logo_450x.png">
              </a>
            </div>
            <div class="col-md-8">
              <img alt="CDI tagcloud" class="hidden-xs hidden-sm cdi-background" src="/images/CDIbackground.png">
            </div>
          </div>
          <div class="row content-wrapper">
            <div class="col-md-12">
              <div class="post">
                <h1>
                  Weld 3.0.0.Alpha8
                  <a href="http://weld.cdi-spec.org/news.atom" title="Subscribe to Weld news">
                    <i class="fa fa-rss"></i>
                  </a>
                </h1>
                <div class="news-date news-boxed">
                  2015-4-21
                  &nbsp;
                  <span class="tags">
                    <i class="fa fa-tags"></i>
                    <a href="/news/tags/release">release</a>
                    ,
                    <a href="/news/tags/cdi2">cdi2</a>
                  </span>
                  &nbsp;
                  <i class="fa fa-pencil"></i>
                  Jozef Hartinger
                </div>
                <p></p>
                <div class="content">
                  <div class="paragraph">
                  <p>Weld 3.0.0.Alpha8 has been released.
                  The main change is the enhanced API for using Weld in Java SE environment. In addition, this release comes with several weld-probe improvements.</p>
                  </div>
                  <div class="sect1">
                  <h2 id="_enhanced_api_for_weld_se">Enhanced API for Weld SE</h2>
                  <div class="sectionbody">
                  <div class="paragraph">
                  <p>Weld has provided <a href="http://docs.jboss.org/weld/reference/latest-2.2/en-US/html/environments.html#_java_se">support for the Java SE environment</a> for a long time with the weld-se module.
                  The API provides an easy way for an application to initialize Weld and use it in a standalone mode.
                  On initialization Weld SE scans the classpath for bean archives with the <code>beans.xml</code> file, similarly to how it&#8217;s done in the Java EE environment.</p>
                  </div>
                  <div class="paragraph">
                  <p>In this release we are extending the API further.
                  This is partially inspired by the current discussion in the CDI expert group where a standardized CDI API for Java SE is being proposed as part of <a href="https://issues.jboss.org/browse/CDI-26">CDI-26</a>.</p>
                  </div>
                  <div class="paragraph">
                  <p>The following code snippet shows the new API in action:</p>
                  </div>
                  <div class="listingblock">
                  <div class="content">
                  <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Weld builder = new Weld()&#x000A;    .disableDiscovery()&#x000A;    .packages(Main.class, Utils.class)&#x000A;    .interceptors(TransactionalInterceptor.class)&#x000A;    .property("org.jboss.weld.construction.relaxed", true);&#x000A;&#x000A;try (WeldContainer weld = builder.initialize()) {&#x000A;    MyBean bean = weld.select(MyBean.class).get();&#x000A;    System.out.println(bean.computeResult());&#x000A;}</code></pre>
                  </div>
                  </div>
                  <div class="paragraph">
                  <p>There are several new things to notice:</p>
                  </div>
                  <div class="ulist">
                  <ul>
                  <li>
                  <p>the <code>Weld</code> class is used as a builder to configure Weld before it is initialized</p>
                  </li>
                  <li>
                  <p>automatic scanning can be disabled</p>
                  </li>
                  <li>
                  <p>instead of scanning, classes or packages can be selected explicitly. All classes in those packages will be managed by Weld</p>
                  </li>
                  <li>
                  <p>interceptors, decorators, extensions and <a href="http://docs.jboss.org/weld/reference/3.0.0.Alpha8/en-US/html/configure.html#_weld_configuration">Weld-specific configuration options</a> can be specified using the builder</p>
                  </li>
                  <li>
                  <p><code>WeldContainer</code> now implements <code>AutoCloseable</code> and can therefore be used in a <code>try-with-resources</code> block. At any time that execution gets outside of the code block, the Weld instance is shut down and all managed instances are safely destroyed.</p>
                  </li>
                  </ul>
                  </div>
                  <div class="paragraph">
                  <p>It is also possible to start multiple independent Weld instances:</p>
                  </div>
                  <div class="listingblock">
                  <div class="content">
                  <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">new Weld().disableDiscovery().containerId("one").beanClasses(MyBean.class).initialize();&#x000A;new Weld().disableDiscovery().containerId("two").beanClasses(OtherBean.class).initialize();&#x000A;&#x000A;MyBean bean = WeldContainer.instance("one").select(MyBean.class).get();&#x000A;System.out.println(bean.computeResult());&#x000A;&#x000A;WeldContainer.instance("one").shutdown();&#x000A;WeldContainer.instance("two").shutdown();</code></pre>
                  </div>
                  </div>
                  <div class="paragraph">
                  <p>Here, two independent <code>WeldContainer</code> instances are initialized.
                  Each of them is given a unique ID.
                  The ID can subsequently be used to obtain a <code>WeldContainer</code> reference in a different place of the code.
                  One possible use-case this enables is for a library or framework (e.g. a testing framework) to use an embedded instance of Weld internally for its own needs (dependency injection, events, extensibility).
                  This instance would not interfere with the Weld instance used by the application.</p>
                  </div>
                  <div class="paragraph">
                  <p>Obviously, automatic classpath scanning can still be used as before:</p>
                  </div>
                  <div class="listingblock">
                  <div class="content">
                  <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">try (WeldContainer weld = new Weld().enableDiscovery().initialize()) {&#x000A;    MyBean bean = weld.select(MyBean.class).get();&#x000A;    System.out.println(bean.computeResult());&#x000A;}</code></pre>
                  </div>
                  </div>
                  <div class="paragraph">
                  <p><strong>Update:</strong></p>
                  </div>
                  <div class="paragraph">
                  <p>To play with the new API use the following dependency in you Maven project:</p>
                  </div>
                  <div class="listingblock">
                  <div class="content">
                  <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;&#x000A;    &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;&#x000A;    &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;&#x000A;    &lt;version&gt;3.0.0.Alpha8&lt;/version&gt;&#x000A;&lt;/dependency&gt;</code></pre>
                  </div>
                  </div>
                  <div class="paragraph">
                  <p>Aforementioned classes are from the <code>org.jboss.weld.environment.se</code> package.</p>
                  </div>
                  </div>
                  </div>
                  <div class="sect1">
                  <h2 id="_weld_probe_enhancements">Weld Probe Enhancements</h2>
                  <div class="sectionbody">
                  <div class="paragraph">
                  <p>Since the last Alpha releases there were several enhancements to Weld Probe.
                  If you are not familiar with Weld Probe, check this <a href="http://weld.cdi-spec.org/news/2015/02/05/weld-300Alpha4/">introductory blog post first</a>.</p>
                  </div>
                  <div class="paragraph">
                  <p>A new feature of Probe is that, when the development mode is enabled, it now embeds a tiny information bar directly into the application&#8217;s HTML output.
                  That makes it easy to navigate to Probe directly from the application anytime.
                  Furthermore, if invocation tracking is enabled, the information bar helps navigate directly to the invocation tree related to the request that rendered the output.</p>
                  </div>
                  <div class="imageblock">
                  <div class="content">
                  <img src="/images/blog/probe-bar.png" alt="Weld Probe information bar embedded in application&#8217;s HTML output">
                  </div>
                  </div>
                  <div class="paragraph">
                  <p><br></p>
                  </div>
                  <div class="paragraph">
                  <p>Additionally, the following Probe improvements were implemented:</p>
                  </div>
                  <div class="ulist">
                  <ul>
                  <li>
                  <p>tracked invocations are now grouped into a invocation tree instead of being tracked in isolation</p>
                  </li>
                  <li>
                  <p>a special type of edges is now used in the overview graph to represent a "declared by" relation (when a bean declares a producer method or field)</p>
                  </li>
                  <li>
                  <p>Instance&lt;?&gt; injection points are now treated specially - a resolved bean is show as injection point&#8217;s dependency</p>
                  </li>
                  </ul>
                  </div>
                  <div class="paragraph">
                  <p>&#91; <a href="http://docs.jboss.org/weld/javadoc/3.0/weld-api/org/jboss/weld/experimental/package-frame.html">Experimental API documentation</a> &#93;
                  &#91; <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12310891&amp;version=12326881">Release notes</a> &#93;
                  &#91; <a href="https://sourceforge.net/projects/jboss/files/Weld/3.0.0.Alpha8">Distribution</a> &#93;
                  &#91; Patch for Wildfly
                  (<a href="http://sourceforge.net/projects/jboss/files/Weld/3.0.0.Alpha8/wildfly-8.2.0.Final-weld-3.0.0.Alpha8-patch.zip/download">8.2</a>,
                  <a href="http://sourceforge.net/projects/jboss/files/Weld/3.0.0.Alpha8/wildfly-9.0.0.Beta2-weld-3.0.0.Alpha8-patch.zip/download">9 Beta</a>)
                  &#93;</p>
                  </div>
                  </div>
                  </div>
                </div>
                
                            <div id="disqus_thread"></div>
                            <script type="text/javascript">
                            var disqus_shortname = 'weld-cdi';
                            var disqus_url = "https://weld.cdi-spec.org/news/2015/04/21/weld-300Alpha8/";
                            var disqus_developer = null;
                            var disqus_identifier = "ad319c6163e4d9cc99bb5a38b57dc327adb03d34";
                            (function() {
                              var dsq = document.createElement("script"); dsq.type = "text/javascript"; dsq.async = true;
                              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                              (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
                            })();
                            </script>
                            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=weld-cdi">comments powered by Disqus.</a></noscript>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer>
      <div class="row">
        <div class="container" id="companyfooter">
          <div class="redhatlogo" style="text-align:center;">
            <div class="logospacer" style="height:10px;"></div>
            <a href="http://www.redhat.com/">
              <img src="https://static.jboss.org/theme/images/common/redhat_logo.png">
            </a>
          </div>
        </div>
      </div>
    </footer>
  </body>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" type="text/javascript"></script>
  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount','UA-45187401-1']);
  _gaq.push(['_trackPageview']);
  (function() {
   var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>
  <script>
    $(document).ready(function() {
      $('#toggle_menu').click(function(){
        $("#mobile_menu").toggle();
      });
    });
  </script>
</html>
